<launch>

  <arg name="params_path" default="$(optenv PARAMS_PATH)" />
  <arg name="body_disturbance_x" default="$(optenv INITIAL_DISTURBANCE_X 0.0)" />
  <arg name="body_disturbance_y" default="$(optenv INITIAL_DISTURBANCE_Y 0.0)" />
  <arg name="pixgarm" default="$(optenv PIXGARM false)" />

  <arg name="uav_name" default="$(optenv UAV_NAME uav)" />
  <arg name="uav_mass" default="$(optenv UAV_MASS default)" />
  <arg name="profiler" default="$(optenv PROFILER false)" />
  <arg name="standalone" default="$(optenv STANDALONE false)" />
  <arg name="world_file" default="$(find mrs_general)/config/world_simulation.yaml" />
  <arg name="g" default="9.8" />
  <arg name="debug" default="false" />

  <!-- Nodelet Manager -->
  <include file="$(find mrs_general)/launch/nodelet_manager.launch">

    <arg name="standalone" value="$(arg standalone)" />

  </include>

  <!-- Odometry -->
  <include file="$(find mrs_odometry)/launch/simulation/simulation_gps.launch">


  </include>

  <!-- Uav Manager -->
  <include file="$(find mrs_uav_manager)/launch/include/uav_manager.launch">

    <arg name="uav_name" value="$(arg uav_name)" />
    <arg name="uav_mass" value="$(arg uav_mass)" />
    <arg name="g" value="$(arg g)" />
    <arg name="profiler" value="$(arg profiler)" />
    <arg name="world_file" value="$(arg world_file)" />
    <arg name="params_path" value="$(arg params_path)" />
    <arg name="standalone" value="$(arg standalone)" />

  </include>

  <!-- Control Manager -->
  <include file="$(find mrs_uav_manager)/launch/include/control_manager.launch">

    <arg name="uav_name" value="$(arg uav_name)" />
    <arg name="uav_mass" value="$(arg uav_mass)" />
    <arg name="g" value="$(arg g)" />
    <arg name="profiler" value="$(arg profiler)" />
    <arg name="world_file" value="$(arg world_file)" />
    <arg name="params_path" value="$(arg params_path)" />
    <arg name="body_disturbance_x" value="$(arg body_disturbance_x)" />
    <arg name="body_disturbance_y" value="$(arg body_disturbance_y)" />
    <arg name="standalone" value="$(arg standalone)" />

  </include>

  <!-- Gain Manager -->
  <include file="$(find mrs_uav_manager)/launch/include/gain_manager.launch">

    <arg name="uav_name" value="$(arg uav_name)" />
    <arg name="profiler" value="$(arg profiler)" />
    <arg name="params_path" value="$(arg params_path)" />
    <arg name="standalone" value="$(arg standalone)" />

  </include>

  <!-- Constraint Manager -->
  <include file="$(find mrs_uav_manager)/launch/include/constraint_manager.launch">

    <arg name="uav_name" value="$(arg uav_name)" />
    <arg name="profiler" value="$(arg profiler)" />
    <arg name="params_path" value="$(arg params_path)" />
    <arg name="standalone" value="$(arg standalone)" />

  </include>

</launch>
